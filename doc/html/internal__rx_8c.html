<!-- HTML header for doxygen 1.8.5-->
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="https://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.13"/>
<title>CDI SDK: src/cdi/internal_rx.c File Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
<link href="image_left.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td style="padding-left: 0.5em;">
   <div id="projectname">CDI SDK
   </div>
   <div id="projectbrief">SDK for transporting chunks of data reliably and with low latency using a polled mode network driver.</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.13 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="dir_68267d1309a1af8e8297ef4c3efbcdba.html">src</a></li><li class="navelem"><a class="el" href="dir_440858bc2ff41f5ef15b020e90223871.html">cdi</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#define-members">Macros</a> &#124;
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle">
<div class="title">internal_rx.c File Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p>This file contains internal definitions and implementation used with the SDK that is not part of the API.  
<a href="#details">More...</a></p>
<div class="textblock"><code>#include &quot;<a class="el" href="internal__rx_8h_source.html">internal_rx.h</a>&quot;</code><br />
<code>#include &lt;stdlib.h&gt;</code><br />
<code>#include &lt;string.h&gt;</code><br />
<code>#include &quot;<a class="el" href="adapter__api_8h_source.html">adapter_api.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="cdi__logger__api_8h_source.html">cdi_logger_api.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="cdi__pool__api_8h_source.html">cdi_pool_api.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="endpoint__manager_8h_source.html">endpoint_manager.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="internal_8h_source.html">internal.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="private_8h_source.html">private.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="private__avm_8h_source.html">private_avm.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="rx__reorder_8h_source.html">rx_reorder.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="statistics_8h_source.html">statistics.h</a>&quot;</code><br />
</div><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="define-members"></a>
Macros</h2></td></tr>
<tr class="memitem:af7961f8d580a5a0b2c347df4d891da00"><td class="memItemLeft" align="right" valign="top"><a id="af7961f8d580a5a0b2c347df4d891da00"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="internal__rx_8c.html#af7961f8d580a5a0b2c347df4d891da00">GET_RANGE</a>(var)&#160;&#160;&#160;(1&lt;&lt;(sizeof(var)&lt;&lt;3))</td></tr>
<tr class="memdesc:af7961f8d580a5a0b2c347df4d891da00"><td class="mdescLeft">&#160;</td><td class="mdescRight">A macro for finding the range of values of a variable (i.e. uint8_t is 256). <br /></td></tr>
<tr class="separator:af7961f8d580a5a0b2c347df4d891da00"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aaf1e441cfb67059f80388bbb7c534107"><td class="memItemLeft" align="right" valign="top"><a id="aaf1e441cfb67059f80388bbb7c534107"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="internal__rx_8c.html#aaf1e441cfb67059f80388bbb7c534107">ELAPSED_UTC_TIME_TOLERANCE_US</a>&#160;&#160;&#160;(100)</td></tr>
<tr class="memdesc:aaf1e441cfb67059f80388bbb7c534107"><td class="mdescLeft">&#160;</td><td class="mdescRight">The length of time between received payloads is captured using both UTC and monotonic clocks. If the time difference between them exceeds this value in microseconds, then the monotonic value will be used instead of the UTC value. <br /></td></tr>
<tr class="separator:aaf1e441cfb67059f80388bbb7c534107"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:a8aac6c3a6d51121fa59cdf97623f9983"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="internal__rx_8c.html#a8aac6c3a6d51121fa59cdf97623f9983">SetCbErrorAndFreeResources</a> (<a class="el" href="cdi__core__api_8h.html#a0597f052733858ab62ea6388aa5ae54a">CdiReturnStatus</a> rs, const char *error_msg_str, <a class="el" href="structCdiCoreCbData.html">CdiCoreCbData</a> *core_cb_data_ptr, <a class="el" href="structCdiSgList.html">CdiSgList</a> *payload_sgl_ptr)</td></tr>
<tr class="separator:a8aac6c3a6d51121fa59cdf97623f9983"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:afe940ed56d85b178e0e2ebd747480de7"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="internal__rx_8c.html#afe940ed56d85b178e0e2ebd747480de7">UpdatePayloadStats</a> (<a class="el" href="structCdiEndpointState.html">CdiEndpointState</a> *endpoint_ptr, <a class="el" href="structRxPayloadWorkRequestState.html">RxPayloadWorkRequestState</a> *work_request_ptr)</td></tr>
<tr class="separator:afe940ed56d85b178e0e2ebd747480de7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aeb2dda566ee394bb7ac7ecf6bb664ff9"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="internal__rx_8c.html#aeb2dda566ee394bb7ac7ecf6bb664ff9">InvokeRawPayloadCallback</a> (<a class="el" href="structCdiConnectionState.html">CdiConnectionState</a> *con_state_ptr, <a class="el" href="structAppPayloadCallbackData.html">AppPayloadCallbackData</a> *app_cb_data_ptr, <a class="el" href="structCdiCoreCbData.html">CdiCoreCbData</a> *core_cb_data_ptr)</td></tr>
<tr class="separator:aeb2dda566ee394bb7ac7ecf6bb664ff9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5da27ccf9572285d9c7c3bbb3f3b2012"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="internal__rx_8c.html#a5da27ccf9572285d9c7c3bbb3f3b2012">InvokeAvmPayloadCallback</a> (<a class="el" href="structCdiConnectionState.html">CdiConnectionState</a> *con_state_ptr, <a class="el" href="structAppPayloadCallbackData.html">AppPayloadCallbackData</a> *app_cb_data_ptr, <a class="el" href="structCdiCoreCbData.html">CdiCoreCbData</a> *core_cb_data_ptr)</td></tr>
<tr class="separator:a5da27ccf9572285d9c7c3bbb3f3b2012"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa210d6876bb7e83e20acbb994850f1f5"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="internal__rx_8c.html#aa210d6876bb7e83e20acbb994850f1f5">UpdatePayloadStateDataFromCDIPacket0</a> (<a class="el" href="structRxPayloadState.html">RxPayloadState</a> *payload_state_ptr, <a class="el" href="structCdiCDIPacketCommonHeader.html">CdiCDIPacketCommonHeader</a> *common_hdr_ptr, int *cdi_header_size_ptr)</td></tr>
<tr class="separator:aa210d6876bb7e83e20acbb994850f1f5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6b489ad1e80ce8d88e192430d937c7e1"><td class="memItemLeft" align="right" valign="top">static bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="internal__rx_8c.html#a6b489ad1e80ce8d88e192430d937c7e1">InitializePayloadState</a> (<a class="el" href="structCdiEndpointState.html">CdiEndpointState</a> *endpoint_ptr, const <a class="el" href="structPacket.html">Packet</a> *packet_ptr, <a class="el" href="structRxPayloadState.html">RxPayloadState</a> *payload_state_ptr, <a class="el" href="structCdiCDIPacketCommonHeader.html">CdiCDIPacketCommonHeader</a> *common_hdr_ptr, int *cdi_header_size_ptr, <a class="el" href="structCdiMemoryState.html">CdiMemoryState</a> **payload_memory_state_ptr)</td></tr>
<tr class="separator:a6b489ad1e80ce8d88e192430d937c7e1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9e98cbb1ac03e0e870f7ca07905fd922"><td class="memItemLeft" align="right" valign="top">static bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="internal__rx_8c.html#a9e98cbb1ac03e0e870f7ca07905fd922">CopyToLinearBuffer</a> (<a class="el" href="structCdiConnectionState.html">CdiConnectionState</a> *con_state_ptr, const <a class="el" href="structPacket.html">Packet</a> *packet_ptr, <a class="el" href="structRxPayloadState.html">RxPayloadState</a> *const payload_state_ptr, <a class="el" href="structCdiCDIPacketCommonHeader.html">CdiCDIPacketCommonHeader</a> *common_hdr_ptr, int cdi_header_size)</td></tr>
<tr class="separator:a9e98cbb1ac03e0e870f7ca07905fd922"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae057511cf9c4052e90b3025e95365b98"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="internal__rx_8c.html#ae057511cf9c4052e90b3025e95365b98">FreePayloadBuffer</a> (const <a class="el" href="structCdiSgList.html">CdiSgList</a> *sgl_ptr)</td></tr>
<tr class="separator:ae057511cf9c4052e90b3025e95365b98"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:acff1f13aaae82eaba3b0644c128a6b8b"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="internal__rx_8c.html#acff1f13aaae82eaba3b0644c128a6b8b">FreePayloadResources</a> (<a class="el" href="structCdiEndpointState.html">CdiEndpointState</a> *endpoint_ptr, <a class="el" href="structRxPayloadState.html">RxPayloadState</a> *payload_state_ptr)</td></tr>
<tr class="separator:acff1f13aaae82eaba3b0644c128a6b8b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae9c846de08b0ee10ca4207e8f1eb4c1b"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="internal__rx_8c.html#ae9c846de08b0ee10ca4207e8f1eb4c1b">ResetPayloadState</a> (<a class="el" href="structRxPayloadState.html">RxPayloadState</a> *payload_state_ptr)</td></tr>
<tr class="separator:ae9c846de08b0ee10ca4207e8f1eb4c1b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a31ac6a4eed678f85ad3668aee08e1baf"><td class="memItemLeft" align="right" valign="top">static bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="internal__rx_8c.html#a31ac6a4eed678f85ad3668aee08e1baf">FinalizePayload</a> (<a class="el" href="structCdiConnectionState.html">CdiConnectionState</a> *con_state_ptr, <a class="el" href="structRxPayloadState.html">RxPayloadState</a> *payload_state_ptr, <a class="el" href="structCdiCDIPacketCommonHeader.html">CdiCDIPacketCommonHeader</a> *common_hdr_ptr)</td></tr>
<tr class="separator:a31ac6a4eed678f85ad3668aee08e1baf"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5de4b234a8f2812c8ad862aac46c3518"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="internal__rx_8c.html#a5de4b234a8f2812c8ad862aac46c3518">RxSendAllCompletePayloads</a> (<a class="el" href="structCdiEndpointState.html">CdiEndpointState</a> *endpoint_ptr, bool force_send, int new_index)</td></tr>
<tr class="separator:a5de4b234a8f2812c8ad862aac46c3518"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af5cac7633aab4dc869a4b0bbb603b892"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="internal__rx_8c.html#af5cac7633aab4dc869a4b0bbb603b892">RestartBufferedDelay</a> (<a class="el" href="structCdiConnectionState.html">CdiConnectionState</a> *con_state_ptr, uint64_t current_monotonic_time_us, uint64_t current_utc_us, uint64_t payload_timestamp_us, uint64_t buffer_time_us)</td></tr>
<tr class="separator:af5cac7633aab4dc869a4b0bbb603b892"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad9be37b44fcf84978147bfa480c25a3b"><td class="memItemLeft" align="right" valign="top"><a class="el" href="cdi__core__api_8h.html#a0597f052733858ab62ea6388aa5ae54a">CdiReturnStatus</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="internal__rx_8c.html#ad9be37b44fcf84978147bfa480c25a3b">RxCreateInternal</a> (<a class="el" href="cdi__utility__api_8h.html#a4d0ec34ab7e90cce9fb6815950232ab6">ConnectionProtocolType</a> protocol_type, <a class="el" href="structCdiRxConfigData.html">CdiRxConfigData</a> *config_data_ptr, <a class="el" href="private_8h.html#a51522f1f9d932a5830a954b3fd424099">CdiCallback</a> rx_cb_ptr, <a class="el" href="cdi__core__api_8h.html#a82753ce51ec3eb7382c6e680d1cbb5e8">CdiConnectionHandle</a> *ret_handle_ptr)</td></tr>
<tr class="separator:ad9be37b44fcf84978147bfa480c25a3b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a84f4f75220ee6f7555230f3fdda9a325"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="internal__rx_8c.html#a84f4f75220ee6f7555230f3fdda9a325">RxEndpointFlushResources</a> (<a class="el" href="structCdiEndpointState.html">CdiEndpointState</a> *endpoint_ptr)</td></tr>
<tr class="separator:a84f4f75220ee6f7555230f3fdda9a325"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a96a270a77e4d582136e20fdd300d78e5"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="internal__rx_8c.html#a96a270a77e4d582136e20fdd300d78e5">RxConnectionDestroyInternal</a> (<a class="el" href="cdi__core__api_8h.html#a82753ce51ec3eb7382c6e680d1cbb5e8">CdiConnectionHandle</a> con_handle)</td></tr>
<tr class="separator:a96a270a77e4d582136e20fdd300d78e5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0dbb9a7d253f30f6a56f543fda326cea"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="internal__rx_8c.html#a0dbb9a7d253f30f6a56f543fda326cea">RxEndpointDestroy</a> (<a class="el" href="cdi__core__api_8h.html#a1f2b5130abdd7633e46ca8bf302f8884">CdiEndpointHandle</a> handle)</td></tr>
<tr class="separator:a0dbb9a7d253f30f6a56f543fda326cea"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7f9f8f3309457b82368dc93456b14f6e"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="internal__rx_8c.html#a7f9f8f3309457b82368dc93456b14f6e">RxPacketReceive</a> (void *param_ptr, <a class="el" href="structPacket.html">Packet</a> *packet_ptr)</td></tr>
<tr class="separator:a7f9f8f3309457b82368dc93456b14f6e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a482f61ea35dea95597d05c9b7e72c66d"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="internal__rx_8c.html#a482f61ea35dea95597d05c9b7e72c66d">RxInvokeAppPayloadCallback</a> (<a class="el" href="structCdiConnectionState.html">CdiConnectionState</a> *con_state_ptr, <a class="el" href="structAppPayloadCallbackData.html">AppPayloadCallbackData</a> *app_cb_data_ptr)</td></tr>
<tr class="separator:a482f61ea35dea95597d05c9b7e72c66d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aed976dd7d47d223c5fb90da0f691519b"><td class="memItemLeft" align="right" valign="top"><a class="el" href="cdi__core__api_8h.html#a0597f052733858ab62ea6388aa5ae54a">CdiReturnStatus</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="internal__rx_8c.html#aed976dd7d47d223c5fb90da0f691519b">RxEnqueueFreeBuffer</a> (const <a class="el" href="structCdiSgList.html">CdiSgList</a> *sgl_ptr)</td></tr>
<tr class="separator:aed976dd7d47d223c5fb90da0f691519b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1890b390a1ca394d5dd6eb6c918e4b18"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="internal__rx_8c.html#a1890b390a1ca394d5dd6eb6c918e4b18">RxPollFreeBuffer</a> (void *param_ptr, <a class="el" href="structCdiSgList.html">CdiSgList</a> *ret_packet_buffer_sgl_ptr)</td></tr>
<tr class="separator:a1890b390a1ca394d5dd6eb6c918e4b18"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:adf93a1088f0d5faca7246979e8bde913"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="internal__rx_8c.html#adf93a1088f0d5faca7246979e8bde913">RxBufferedPayloadAdd</a> (<a class="el" href="structCdiConnectionState.html">CdiConnectionState</a> *con_state_ptr, <a class="el" href="structAppPayloadCallbackData.html">AppPayloadCallbackData</a> *app_cb_data_ptr)</td></tr>
<tr class="separator:adf93a1088f0d5faca7246979e8bde913"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:adb098e12893eabdb6211c4d4f5c607ed"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="internal__rx_8c.html#adb098e12893eabdb6211c4d4f5c607ed">RxBufferedPayloadGet</a> (<a class="el" href="structCdiConnectionState.html">CdiConnectionState</a> *con_state_ptr, uint32_t *ret_timeout_ms_ptr, <a class="el" href="structAppPayloadCallbackData.html">AppPayloadCallbackData</a> *ret_app_cb_data_ptr)</td></tr>
<tr class="separator:adb098e12893eabdb6211c4d4f5c607ed"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>This file contains internal definitions and implementation used with the SDK that is not part of the API. </p>
</div><h2 class="groupheader">Function Documentation</h2>
<a id="a9e98cbb1ac03e0e870f7ca07905fd922"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a9e98cbb1ac03e0e870f7ca07905fd922">&#9670;&nbsp;</a></span>CopyToLinearBuffer()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static bool CopyToLinearBuffer </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structCdiConnectionState.html">CdiConnectionState</a> *&#160;</td>
          <td class="paramname"><em>con_state_ptr</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="structPacket.html">Packet</a> *&#160;</td>
          <td class="paramname"><em>packet_ptr</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structRxPayloadState.html">RxPayloadState</a> *const&#160;</td>
          <td class="paramname"><em>payload_state_ptr</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structCdiCDIPacketCommonHeader.html">CdiCDIPacketCommonHeader</a> *&#160;</td>
          <td class="paramname"><em>common_hdr_ptr</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>cdi_header_size</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Copy the packet payloads's contents to its proper location within the current linear receive payload buffer. It takes into account the case of packets with a data offset in the case where a packet's size somewhere in the payload was reduced to limit the number of SGL entries required.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">con_state_ptr</td><td>Pointer to connection state structure. </td></tr>
    <tr><td class="paramname">packet_ptr</td><td>Pointer to packet whose contents are to be copied. </td></tr>
    <tr><td class="paramname">payload_state_ptr</td><td>Pointer to payload structure being updated. </td></tr>
    <tr><td class="paramname">common_hdr_ptr</td><td>Pointer to CDI header that contains data to be added to payload state. </td></tr>
    <tr><td class="paramname">cdi_header_size</td><td>CDI header size in bytes.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>true if the function completed successfully, false if a problem was encountered. </dd></dl>

</div>
</div>
<a id="a31ac6a4eed678f85ad3668aee08e1baf"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a31ac6a4eed678f85ad3668aee08e1baf">&#9670;&nbsp;</a></span>FinalizePayload()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static bool FinalizePayload </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structCdiConnectionState.html">CdiConnectionState</a> *&#160;</td>
          <td class="paramname"><em>con_state_ptr</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structRxPayloadState.html">RxPayloadState</a> *&#160;</td>
          <td class="paramname"><em>payload_state_ptr</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structCdiCDIPacketCommonHeader.html">CdiCDIPacketCommonHeader</a> *&#160;</td>
          <td class="paramname"><em>common_hdr_ptr</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Finalizes the payload state. Call this once all data expected for the payload has been received.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">con_state_ptr</td><td>Pointer to connection state structure. </td></tr>
    <tr><td class="paramname">payload_state_ptr</td><td>Pointer to payload structure being updated. </td></tr>
    <tr><td class="paramname">common_hdr_ptr</td><td>Pointer to CDI header that contains data to be added to payload state.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Returns true if payload successfully received without any packet reorder issues, otherwise false is returned. </dd></dl>

</div>
</div>
<a id="ae057511cf9c4052e90b3025e95365b98"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae057511cf9c4052e90b3025e95365b98">&#9670;&nbsp;</a></span>FreePayloadBuffer()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void FreePayloadBuffer </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="structCdiSgList.html">CdiSgList</a> *&#160;</td>
          <td class="paramname"><em>sgl_ptr</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Free resources specific to a payload. Adapter packet resources are freed separately.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">sgl_ptr</td><td>Pointer to payload scatter-gather list. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="acff1f13aaae82eaba3b0644c128a6b8b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#acff1f13aaae82eaba3b0644c128a6b8b">&#9670;&nbsp;</a></span>FreePayloadResources()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void FreePayloadResources </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structCdiEndpointState.html">CdiEndpointState</a> *&#160;</td>
          <td class="paramname"><em>endpoint_ptr</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structRxPayloadState.html">RxPayloadState</a> *&#160;</td>
          <td class="paramname"><em>payload_state_ptr</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Free payload resources.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">endpoint_ptr</td><td>Pointer to connection state structure. </td></tr>
    <tr><td class="paramname">payload_state_ptr</td><td>Pointer to payload structure being updated. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a6b489ad1e80ce8d88e192430d937c7e1"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a6b489ad1e80ce8d88e192430d937c7e1">&#9670;&nbsp;</a></span>InitializePayloadState()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static bool InitializePayloadState </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structCdiEndpointState.html">CdiEndpointState</a> *&#160;</td>
          <td class="paramname"><em>endpoint_ptr</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="structPacket.html">Packet</a> *&#160;</td>
          <td class="paramname"><em>packet_ptr</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structRxPayloadState.html">RxPayloadState</a> *&#160;</td>
          <td class="paramname"><em>payload_state_ptr</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structCdiCDIPacketCommonHeader.html">CdiCDIPacketCommonHeader</a> *&#160;</td>
          <td class="paramname"><em>common_hdr_ptr</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int *&#160;</td>
          <td class="paramname"><em>cdi_header_size_ptr</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structCdiMemoryState.html">CdiMemoryState</a> **&#160;</td>
          <td class="paramname"><em>payload_memory_state_ptr</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Initializes the state data for a payload. Call this when the first packet of a payload is received.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">endpoint_ptr</td><td>Pointer to endpoint state structure. </td></tr>
    <tr><td class="paramname">packet_ptr</td><td>Pointer to the first packet received for a given payload. </td></tr>
    <tr><td class="paramname">payload_state_ptr</td><td>Pointer to payload structure being updated. </td></tr>
    <tr><td class="paramname">common_hdr_ptr</td><td>Pointer to CDI header that contains data to be added to payload state. </td></tr>
    <tr><td class="paramname">cdi_header_size_ptr</td><td>Pointer to memory space updated to size of header + user specified extra_data_size. </td></tr>
    <tr><td class="paramname">payload_memory_state_ptr</td><td>Pointer to location to write the address of a pool allocated <a class="el" href="structCdiMemoryState.html" title="Structure definition behind the Scatter-Gather List internal data handles shared with the user&#39;s appl...">CdiMemoryState</a> structure.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>true if this function completed successfully, false if a problem was encountered. </dd></dl>

</div>
</div>
<a id="a5da27ccf9572285d9c7c3bbb3f3b2012"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a5da27ccf9572285d9c7c3bbb3f3b2012">&#9670;&nbsp;</a></span>InvokeAvmPayloadCallback()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void InvokeAvmPayloadCallback </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structCdiConnectionState.html">CdiConnectionState</a> *&#160;</td>
          <td class="paramname"><em>con_state_ptr</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structAppPayloadCallbackData.html">AppPayloadCallbackData</a> *&#160;</td>
          <td class="paramname"><em>app_cb_data_ptr</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structCdiCoreCbData.html">CdiCoreCbData</a> *&#160;</td>
          <td class="paramname"><em>core_cb_data_ptr</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Call the AVM payload user-registered callback function.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">con_state_ptr</td><td>Pointer to connection state data. </td></tr>
    <tr><td class="paramname">app_cb_data_ptr</td><td>Pointer to application callback data. </td></tr>
    <tr><td class="paramname">core_cb_data_ptr</td><td>Pointer to core callback data. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="aeb2dda566ee394bb7ac7ecf6bb664ff9"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aeb2dda566ee394bb7ac7ecf6bb664ff9">&#9670;&nbsp;</a></span>InvokeRawPayloadCallback()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void InvokeRawPayloadCallback </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structCdiConnectionState.html">CdiConnectionState</a> *&#160;</td>
          <td class="paramname"><em>con_state_ptr</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structAppPayloadCallbackData.html">AppPayloadCallbackData</a> *&#160;</td>
          <td class="paramname"><em>app_cb_data_ptr</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structCdiCoreCbData.html">CdiCoreCbData</a> *&#160;</td>
          <td class="paramname"><em>core_cb_data_ptr</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Call the Raw payload user-registered callback function.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">con_state_ptr</td><td>Pointer to connection state data. </td></tr>
    <tr><td class="paramname">app_cb_data_ptr</td><td>Pointer to application callback data. </td></tr>
    <tr><td class="paramname">core_cb_data_ptr</td><td>Pointer to core callback data. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="ae9c846de08b0ee10ca4207e8f1eb4c1b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae9c846de08b0ee10ca4207e8f1eb4c1b">&#9670;&nbsp;</a></span>ResetPayloadState()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void ResetPayloadState </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structRxPayloadState.html">RxPayloadState</a> *&#160;</td>
          <td class="paramname"><em>payload_state_ptr</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Reset payload state data.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">payload_state_ptr</td><td>Pointer to payload state data to reset. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="af5cac7633aab4dc869a4b0bbb603b892"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af5cac7633aab4dc869a4b0bbb603b892">&#9670;&nbsp;</a></span>RestartBufferedDelay()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void RestartBufferedDelay </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structCdiConnectionState.html">CdiConnectionState</a> *&#160;</td>
          <td class="paramname"><em>con_state_ptr</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint64_t&#160;</td>
          <td class="paramname"><em>current_monotonic_time_us</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint64_t&#160;</td>
          <td class="paramname"><em>current_utc_us</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint64_t&#160;</td>
          <td class="paramname"><em>payload_timestamp_us</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint64_t&#160;</td>
          <td class="paramname"><em>buffer_time_us</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Reset the payload base time values and sleep for the connection's buffer delay period. This delay allows received payloads to be buffered as they are added to the app payload message queue.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">con_state_ptr</td><td>Pointer to connection state data. </td></tr>
    <tr><td class="paramname">current_monotonic_time_us</td><td>Current monotonic time in microseconds. Must be obtained using <a class="el" href="cdi__os__api_8h.html#a2bb605674813adf81812173fb70731f4" title="Timers get a microsecond timestamp from CLOCK_MONOTONIC on linux or from the performance counter on W...">CdiOsGetMicroseconds()</a>. </td></tr>
    <tr><td class="paramname">current_utc_us</td><td>Current UTC time in microseconds. Must be obtained using <a class="el" href="cdi__core__api_8h.html#a784bdd92ca69d7bff5150dbb9929729d">CdiCoreGetUtcTimeMicroseconds()</a>. </td></tr>
    <tr><td class="paramname">payload_timestamp_us</td><td>Current payload's timestamp converted into microseconds. </td></tr>
    <tr><td class="paramname">buffer_time_us</td><td>Amount of time to buffer in microseconds. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="adf93a1088f0d5faca7246979e8bde913"></a>
<h2 class="memtitle"><span class="permalink"><a href="#adf93a1088f0d5faca7246979e8bde913">&#9670;&nbsp;</a></span>RxBufferedPayloadAdd()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void RxBufferedPayloadAdd </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structCdiConnectionState.html">CdiConnectionState</a> *&#160;</td>
          <td class="paramname"><em>con_state_ptr</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structAppPayloadCallbackData.html">AppPayloadCallbackData</a> *&#160;</td>
          <td class="paramname"><em>app_cb_data_ptr</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>If Rx buffering is enabled, this API is used to add a Rx payload to a list of payloads ordered by PTP. The <a class="el" href="internal__rx_8h.html#adb098e12893eabdb6211c4d4f5c607ed">RxBufferedPayloadGet()</a> function is then used to process the received payloads in PTP order.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">con_state_ptr</td><td>Pointer to connection state data. </td></tr>
    <tr><td class="paramname">app_cb_data_ptr</td><td>Pointer to application payload data to add to the Rx list. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="adb098e12893eabdb6211c4d4f5c607ed"></a>
<h2 class="memtitle"><span class="permalink"><a href="#adb098e12893eabdb6211c4d4f5c607ed">&#9670;&nbsp;</a></span>RxBufferedPayloadGet()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool RxBufferedPayloadGet </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structCdiConnectionState.html">CdiConnectionState</a> *&#160;</td>
          <td class="paramname"><em>con_state_ptr</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint32_t *&#160;</td>
          <td class="paramname"><em>ret_timeout_ms_ptr</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structAppPayloadCallbackData.html">AppPayloadCallbackData</a> *&#160;</td>
          <td class="paramname"><em>ret_app_cb_data_ptr</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Return a payload if one is ready to be sent to the application. The next time to call the function must be within the timeout returned in ret_timeout_ms_ptr.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">con_state_ptr</td><td>Pointer to connection state data. </td></tr>
    <tr><td class="paramname">ret_timeout_ms_ptr</td><td>Address where to write returned timeout to use for next blocking wait operation. </td></tr>
    <tr><td class="paramname">ret_app_cb_data_ptr</td><td>Address where to write returned application payload data.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>true if got a payload (data is written to ret_app_cb_data_ptr), otherwise false is returned. </dd></dl>

</div>
</div>
<a id="a96a270a77e4d582136e20fdd300d78e5"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a96a270a77e4d582136e20fdd300d78e5">&#9670;&nbsp;</a></span>RxConnectionDestroyInternal()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void RxConnectionDestroyInternal </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="cdi__core__api_8h.html#a82753ce51ec3eb7382c6e680d1cbb5e8">CdiConnectionHandle</a>&#160;</td>
          <td class="paramname"><em>con_handle</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<dl class="section see"><dt>See also</dt><dd><a class="el" href="cdi__core__api_8c.html#a3d4c12fe915dd9e0c0da2f2f1a783d02">CdiCoreConnectionDestroy</a> </dd></dl>

</div>
</div>
<a id="ad9be37b44fcf84978147bfa480c25a3b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad9be37b44fcf84978147bfa480c25a3b">&#9670;&nbsp;</a></span>RxCreateInternal()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="cdi__core__api_8h.html#a0597f052733858ab62ea6388aa5ae54a">CdiReturnStatus</a> RxCreateInternal </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="cdi__utility__api_8h.html#a4d0ec34ab7e90cce9fb6815950232ab6">ConnectionProtocolType</a>&#160;</td>
          <td class="paramname"><em>protocol_type</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structCdiRxConfigData.html">CdiRxConfigData</a> *&#160;</td>
          <td class="paramname"><em>config_data_ptr</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="private_8h.html#a51522f1f9d932a5830a954b3fd424099">CdiCallback</a>&#160;</td>
          <td class="paramname"><em>rx_cb_ptr</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="cdi__core__api_8h.html#a82753ce51ec3eb7382c6e680d1cbb5e8">CdiConnectionHandle</a> *&#160;</td>
          <td class="paramname"><em>ret_handle_ptr</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Create a raw receiver connection.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">protocol_type</td><td>Specifies the protocol for payload (E.g. RAW or AVM) </td></tr>
    <tr><td class="paramname">config_data_ptr</td><td>Address of a structure with all of the parameters to use for setting up the connection. </td></tr>
    <tr><td class="paramname">rx_cb_ptr</td><td>The address of a function which will be called whenever a payload is received from the remote host. </td></tr>
    <tr><td class="paramname">ret_handle_ptr</td><td>An address which will receive the handle of the newly created connection.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>kCdiStatusOk if the connection was successfully created, otherwise a value indicating why it failed. </dd></dl>

</div>
</div>
<a id="a0dbb9a7d253f30f6a56f543fda326cea"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a0dbb9a7d253f30f6a56f543fda326cea">&#9670;&nbsp;</a></span>RxEndpointDestroy()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void RxEndpointDestroy </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="cdi__core__api_8h.html#a1f2b5130abdd7633e46ca8bf302f8884">CdiEndpointHandle</a>&#160;</td>
          <td class="paramname"><em>handle</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Destroy resources associated with the specified endpoint.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">handle</td><td>Handle of endpoint to destroy. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a84f4f75220ee6f7555230f3fdda9a325"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a84f4f75220ee6f7555230f3fdda9a325">&#9670;&nbsp;</a></span>RxEndpointFlushResources()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void RxEndpointFlushResources </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structCdiEndpointState.html">CdiEndpointState</a> *&#160;</td>
          <td class="paramname"><em>endpoint_ptr</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Flush resources associated with Rx. NOTE: This function should only be called after the thread has been paused using <a class="el" href="endpoint__manager_8c.html#a5edbf8e5d8a66c7de64734bb75107ad4">EndpointManagerThreadWait()</a>.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">endpoint_ptr</td><td>Pointer to endpoint to free resources. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="aed976dd7d47d223c5fb90da0f691519b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aed976dd7d47d223c5fb90da0f691519b">&#9670;&nbsp;</a></span>RxEnqueueFreeBuffer()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="cdi__core__api_8h.html#a0597f052733858ab62ea6388aa5ae54a">CdiReturnStatus</a> RxEnqueueFreeBuffer </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="structCdiSgList.html">CdiSgList</a> *&#160;</td>
          <td class="paramname"><em>sgl_ptr</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Enqueue to free the receive buffer.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">sgl_ptr</td><td>The scatter-gather list containing the memory to be freed.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>kCdiStatusOk if the connection was successfully created, otherwise a value indicating why it failed. </dd></dl>

</div>
</div>
<a id="a482f61ea35dea95597d05c9b7e72c66d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a482f61ea35dea95597d05c9b7e72c66d">&#9670;&nbsp;</a></span>RxInvokeAppPayloadCallback()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void RxInvokeAppPayloadCallback </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structCdiConnectionState.html">CdiConnectionState</a> *&#160;</td>
          <td class="paramname"><em>con_state_ptr</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structAppPayloadCallbackData.html">AppPayloadCallbackData</a> *&#160;</td>
          <td class="paramname"><em>app_cb_data_ptr</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Invoke the user registered Tx callback function for a payload.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">con_state_ptr</td><td>Pointer to connection state data. </td></tr>
    <tr><td class="paramname">app_cb_data_ptr</td><td>Pointer to application callback data. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a7f9f8f3309457b82368dc93456b14f6e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a7f9f8f3309457b82368dc93456b14f6e">&#9670;&nbsp;</a></span>RxPacketReceive()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void RxPacketReceive </td>
          <td>(</td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>param_ptr</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structPacket.html">Packet</a> *&#160;</td>
          <td class="paramname"><em>packet_ptr</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>A packet has been received by the receiver. Need to reassemble it into a payload and send the payload SGL to the application.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">param_ptr</td><td>Pointer to connection that the packet was received on as a void*. </td></tr>
    <tr><td class="paramname">packet_ptr</td><td>Pointer to the received packet. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a1890b390a1ca394d5dd6eb6c918e4b18"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a1890b390a1ca394d5dd6eb6c918e4b18">&#9670;&nbsp;</a></span>RxPollFreeBuffer()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool RxPollFreeBuffer </td>
          <td>(</td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>param_ptr</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structCdiSgList.html">CdiSgList</a> *&#160;</td>
          <td class="paramname"><em>ret_packet_buffer_sgl_ptr</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Called from <a class="el" href="adapter_8c.html#acf6024c1c0ab38077c8889ce1de8b87e">PollThread()</a> in the adapter to poll if any Rx buffers need to be freed. If there are any, this function will free payload level resources and then return a list of adapter packet buffer SGLs that need to be freed by the caller.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">param_ptr</td><td>A pointer to data used by the function. </td></tr>
    <tr><td class="paramname">ret_packet_buffer_sgl_ptr</td><td>Pointer to address where to write the returned packet buffer SGL that needs to be freed by the caller.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Returns true if an adapter buffer SGL is being returned. </dd></dl>

</div>
</div>
<a id="a5de4b234a8f2812c8ad862aac46c3518"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a5de4b234a8f2812c8ad862aac46c3518">&#9670;&nbsp;</a></span>RxSendAllCompletePayloads()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void RxSendAllCompletePayloads </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structCdiEndpointState.html">CdiEndpointState</a> *&#160;</td>
          <td class="paramname"><em>endpoint_ptr</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>force_send</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>new_index</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Increment through the payload state array and send all payloads marked "ready to send". This function has two modes; force_send = false and force_send = true. When force_send is false, we start with the current payload_index and we walk the array sending all payloads that are "ready to send", stopping once we find one that is not ready to send. When force_send = true, then we start with the current payload_index and we walk the entire array sending all payloads that are not Idle or Ignore. The value of payload_index is then set to new_index.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">endpoint_ptr</td><td>Pointer to endpoint state structure. </td></tr>
    <tr><td class="paramname">force_send</td><td>True to require all payloads get sent, even if in progress, starting with the current index. </td></tr>
    <tr><td class="paramname">new_index</td><td>When force_send used, set the current index to this index after all payloads have been sent. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a8aac6c3a6d51121fa59cdf97623f9983"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a8aac6c3a6d51121fa59cdf97623f9983">&#9670;&nbsp;</a></span>SetCbErrorAndFreeResources()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void SetCbErrorAndFreeResources </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="cdi__core__api_8h.html#a0597f052733858ab62ea6388aa5ae54a">CdiReturnStatus</a>&#160;</td>
          <td class="paramname"><em>rs</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>error_msg_str</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structCdiCoreCbData.html">CdiCoreCbData</a> *&#160;</td>
          <td class="paramname"><em>core_cb_data_ptr</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structCdiSgList.html">CdiSgList</a> *&#160;</td>
          <td class="paramname"><em>payload_sgl_ptr</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Function to set status code and optional error message string in the core callback and frees any receive buffer resources.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">rs</td><td>Return status code. </td></tr>
    <tr><td class="paramname">error_msg_str</td><td>Pointer to optional error message string. </td></tr>
    <tr><td class="paramname">core_cb_data_ptr</td><td>Pointer to the core callback data structure. </td></tr>
    <tr><td class="paramname">payload_sgl_ptr</td><td>Pointer to the payload SGL list to free. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="aa210d6876bb7e83e20acbb994850f1f5"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa210d6876bb7e83e20acbb994850f1f5">&#9670;&nbsp;</a></span>UpdatePayloadStateDataFromCDIPacket0()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void UpdatePayloadStateDataFromCDIPacket0 </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structRxPayloadState.html">RxPayloadState</a> *&#160;</td>
          <td class="paramname"><em>payload_state_ptr</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structCdiCDIPacketCommonHeader.html">CdiCDIPacketCommonHeader</a> *&#160;</td>
          <td class="paramname"><em>common_hdr_ptr</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int *&#160;</td>
          <td class="paramname"><em>cdi_header_size_ptr</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Update payload state when header packet sequence number 0 arrives.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">payload_state_ptr</td><td>Pointer to payload structure being updated. </td></tr>
    <tr><td class="paramname">common_hdr_ptr</td><td>Pointer to CDI header that contains data to be added to payload state. </td></tr>
    <tr><td class="paramname">cdi_header_size_ptr</td><td>Pointer to memory space updated to size of header + user specified extra_data_size </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="afe940ed56d85b178e0e2ebd747480de7"></a>
<h2 class="memtitle"><span class="permalink"><a href="#afe940ed56d85b178e0e2ebd747480de7">&#9670;&nbsp;</a></span>UpdatePayloadStats()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void UpdatePayloadStats </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structCdiEndpointState.html">CdiEndpointState</a> *&#160;</td>
          <td class="paramname"><em>endpoint_ptr</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structRxPayloadWorkRequestState.html">RxPayloadWorkRequestState</a> *&#160;</td>
          <td class="paramname"><em>work_request_ptr</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Update payload statistics data whenever a payload has either been successfully received or an error occurred while being received.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">endpoint_ptr</td><td>Pointer to endpoint state data. </td></tr>
    <tr><td class="paramname">work_request_ptr</td><td>Pointer to work request data. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
</div><!-- contents -->
<!-- HTML footer for doxygen 1.8.5-->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
	<div>Copyright Amazon.com Inc. or its affiliates. All Rights Reserved.</div>
</small></address>
</body>
</html>
